import{a as g}from"./chunk-FIRHHLGJ.js";import{b as m}from"./chunk-EKD5RMQ3.js";import{Z as s,aa as h,ga as d,j as l}from"./chunk-X7VXIKXH.js";var b=class r{http=d(m);endpoint=g.apiendpoint;_refresh$=new l;constructor(){}get refresh$(){return this._refresh$}getMessages(){return this.http.get(`${this.endpoint}/messages`,{withCredentials:!0})}getMessage(e){return this.http.get(`${this.endpoint}/messages/${e}`,{withCredentials:!0})}postMessage(e){let{nombre:t,apellidos:i,email:a,telefono:n,asunto:p,mensaje:o}=e;return this.http.post(`${this.endpoint}/messages`,{nombre:t,apellidos:i,email:a,telefono:n,asunto:p,mensaje:o},{withCredentials:!0}).pipe(s(()=>{this._refresh$.next()}))}updateMessage(e,t){let{nombre:i,apellidos:a,email:n,telefono:p,asunto:o,mensaje:f}=t;return this.http.patch(`${this.endpoint}/messages/${e}`,{nombre:i,apellidos:a,email:n,telefono:p,asunto:o,mensaje:f},{withCredentials:!0}).pipe(s(()=>{this._refresh$.next()}))}deleteMessage(e){return this.http.delete(`${this.endpoint}/messages/${e}`,{withCredentials:!0}).pipe(s(()=>{this._refresh$.next()}))}deleteMessages(e){let t={ids:e};return this.http.delete(`${this.endpoint}/messages`,{body:t,withCredentials:!0}).pipe(s(()=>{this._refresh$.next()}))}static \u0275fac=function(t){return new(t||r)};static \u0275prov=h({token:r,factory:r.\u0275fac,providedIn:"root"})};export{b as a};
